create a wordpress rest endpoint to convert JSON to a QR code and send it by email. please use a nonce for security. Please write in English language.

To create a WordPress REST endpoint to convert JSON to a QR code and send it by email, you can follow these steps: Install and activate the QR Code Generator plugin on your WordPress site. Create a custom REST API endpoint by adding the following code to your theme's functions.php file: This code creates a custom REST endpoint at the URL  /wp-json/qr-code/v1/generate  that accepts POST requests and checks for a valid nonce for security. This function uses the  qr_code_generator_plugin_generate_qr_code  function provided by the QR Code Generator plugin to generate the QR code image from the JSON data. It then sends the image by email using the  wp_mail  function and attaches the image file as an attachment. Finally, it returns a response indicating success. That's it! You now have a custom REST endpoint that can generate a QR code image from JSON data and send it by email. To access the endpoint, you can make a POST request to the URL  /wp-json/qr-code/v1/generate  with a valid nonce and JSON data in the request body.