I need to sanitize some HTML, but last time I tried using the library `sanitize-html` it messed up the HTML structure. How do I get it to just remove security vulnerabilities and not mess with other tags?

When sanitizing HTML with the  sanitize-html  library, it's important to configure the library to allow only the tags and attributes that you want to keep. By default,  sanitize-html  will strip all tags and attributes that it considers unsafe, which can lead to unexpected changes in the HTML structure. Here's an example of how you can configure  sanitize-html  to allow only certain tags and attributes: In this example, the  allowedTags  option is set to an array of tags that are allowed in the sanitized HTML. The  allowedAttributes  option is set to an empty object, which means that no attributes are allowed. By configuring the options in this way,  sanitize-html  will remove the  <script>  tag (which is not allowed), but will leave the  <div>  and  <p>  tags intact. You can customize the allowed tags and attributes to meet your specific needs. Just make sure to test your code thoroughly to ensure that the resulting HTML is safe and correctly formatted.

How do I set it to allow all tags and all attributes?

If you want to allow all tags and all attributes in the sanitized HTML, you can configure  sanitize-html  to use the  allowedTags  and  allowedAttributes  options with a value of  true . Here's an example: In this example, the  allowedTags  and  allowedAttributes  options are set to  true , which means that all tags and attributes are allowed in the sanitized HTML. This configuration can be useful in some cases, such as when you need to

How do I allow all tags apart from script tags?

If you want to allow all tags in the HTML except for the  <script>  tag, you can configure  sanitize-html  to use the  allowedTags  option with an array of tags that you want to allow, and exclude the  <script>  tag from that array. Here's an example: In this example, the  allowedTags  option is set to an array containing the value  '*' , which means that all tags are allowed. However, we also set the  disallowedTagsMode  option to  'recursiveEscape' , which tells  sanitize-html  to escape any disallowed tags instead of removing them. We then define an  exclusiveFilter  function that checks whether a given tag should be allowed or disallowed. In this case, we use the  includes()  method to check whether the tag is in the list of disallowed tags ( ['script'] ), and return  false  if it is, and  true  otherwise. With these options set,  sanitize-html  will allow all tags except for the  <script>  tag, which will be escaped instead of removed.

What does escaping mean?