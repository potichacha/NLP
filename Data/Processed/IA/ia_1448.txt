Please generate a new Next.js project with required dependencies and folder structure for building a web app that allows users to auth within their Google account, store OpenAI API credentials, send prompts to ChatGPT via OpenAI API, and use the output to send as an email via Gmail API to specific recipients. Please make sure to include the necessary folder structure for each component and feature of the app.

To create a Next.js project with the required dependencies and folder structure for building a web app that allows users to authenticate with their Google account, store OpenAI API credentials, send prompts to ChatGPT via the OpenAI API, and use the output to send an email via the Gmail API to specific recipients, follow these steps: With this folder structure and dependencies in place, you can start implementing the different components and features of your web app. Remember to import the required libraries in the relevant files and follow the documentation for the Google APIs, OpenAI API, and Next.js to build your application.

Please create a new file for handling Google authentication and implement the required authentication flow using Google OAuth API. The user should be able to authenticate with their Google account, and the app should be able to retrieve and store the authentication token for later use.

To handle Google authentication, create a new file  lib/googleAuth.js  within your project. This file will implement the required authentication flow using the Google OAuth API. Now you can use these functions in your Next.js application to authenticate users and retrieve their access tokens for later use. For example, you can create an API route that handles the authentication callback and stores the access token in a secure way, such as using Next.js sessions or an encrypted cookie.

Please create a new file for handling OpenAI API credentials and implement the required logic for saving and retrieving the OpenAI API key. The user should be able to input their OpenAI API key, and the app should be able to store it securely for later use.

For handling OpenAI API credentials, create a new file  lib/openaiApi.js  within your project. This file will implement the logic for saving and retrieving the OpenAI API key. To store the OpenAI API key securely, you can use Next.js session storage. First, you will need to install the following packages: Now you can use these functions in your Next.js application to save and retrieve the OpenAI API key. For example, you can create an API route that handles saving the API key and another route that retrieves the API key when needed. Make sure to wrap these API routes using the  withSession  middleware to enable session storage.